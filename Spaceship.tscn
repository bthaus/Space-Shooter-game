[gd_scene load_steps=37 format=3 uid="uid://cl0e0qexuj16p"]

[ext_resource type="Script" path="res://spaceship.gd" id="1_5mnrl"]
[ext_resource type="Shader" path="res://2.gdshader" id="1_n4ook"]
[ext_resource type="ArrayMesh" uid="uid://cunhb7mxvw27o" path="res://Assets/spaceship.obj" id="1_vyo23"]
[ext_resource type="Shader" path="res://pixel.gdshader" id="2_dqqr8"]
[ext_resource type="Shader" path="res://all_in_one.gdshader" id="2_rvrdr"]
[ext_resource type="Script" path="res://multiviewport.gd" id="3_65key"]
[ext_resource type="Shader" path="res://shield.gdshader" id="3_7540q"]
[ext_resource type="Texture2D" uid="uid://jobgij4i5sxe" path="res://Assets/Effects/Explosion_1/e1.png" id="8_cf1mf"]
[ext_resource type="Script" path="res://propagation.gd" id="8_kxeok"]
[ext_resource type="Texture2D" uid="uid://cxkgl0lpk4xdv" path="res://Assets/Effects/Explosion_1/e7.png" id="9_mw1gw"]
[ext_resource type="PackedScene" uid="uid://dyyp4tp4ok25u" path="res://projectile_plasma.tscn" id="11_62g3x"]
[ext_resource type="Shader" path="res://laser.gdshader" id="12_s3ktn"]
[ext_resource type="Texture2D" uid="uid://cjdpudkr5wsof" path="res://icon.svg" id="13_umu2r"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ggdry"]
render_priority = 0
shader = ExtResource("3_7540q")
shader_parameter/base_color = Color(0, 0.501961, 1, 0.368627)
shader_parameter/pulse_color = Color(0.501961, 0.701961, 1, 0.4)
shader_parameter/speed = 0.1
shader_parameter/scale = 0.103
shader_parameter/distortion = 0.1
shader_parameter/shield_power = 0.276
shader_parameter/rim_power = 2.0
shader_parameter/pulse_frequency = 5.015

[sub_resource type="SphereMesh" id="SphereMesh_dg0q8"]
material = SubResource("ShaderMaterial_ggdry")
radius = 0.56

[sub_resource type="ShaderMaterial" id="ShaderMaterial_0nh8f"]
shader = ExtResource("2_rvrdr")
shader_parameter/color = Color(1, 1, 0, 0.6)
shader_parameter/thickness = 6.618
shader_parameter/tolerance = 0.382
shader_parameter/diagonals = true
shader_parameter/rounded = true
shader_parameter/amount = 69.875
shader_parameter/size_effect = 1.0
shader_parameter/speed = 3.0
shader_parameter/highlight_strength = 0.5
shader_parameter/color_mode_toggle = false
shader_parameter/is_horizontal = false
shader_parameter/pause_duration = 0.5
shader_parameter/texture_size = Vector2(16, 16)
shader_parameter/highlight = true

[sub_resource type="ViewportTexture" id="ViewportTexture_wk2jn"]
viewport_path = NodePath("SpaceShip")

[sub_resource type="ViewportTexture" id="ViewportTexture_whww0"]
viewport_path = NodePath("SpaceShip")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_qnaxf"]
shader = ExtResource("1_n4ook")
shader_parameter/color = Color(3, 3, 3, 1)
shader_parameter/thickness = 10.0
shader_parameter/tolerance = 0.0
shader_parameter/diagonals = true
shader_parameter/rounded = true

[sub_resource type="ShaderMaterial" id="ShaderMaterial_8vbj5"]
shader = ExtResource("2_dqqr8")
shader_parameter/amount = 30.0

[sub_resource type="Gradient" id="Gradient_ppx3s"]
colors = PackedColorArray(6, 1, 1, 1, 1, 1, 1, 0)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_7k1ri"]
gradient = SubResource("Gradient_ppx3s")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_tty4c"]
particle_flag_disable_z = true
angle_min = -720.0
angle_max = 720.0
direction = Vector3(0, 1, 0)
spread = 34.9
initial_velocity_min = 121.21
initial_velocity_max = 313.13
gravity = Vector3(0, 0, 0)
scale_min = 0.2
scale_max = 0.5
color = Color(26.627, 1, 1, 1)
color_ramp = SubResource("GradientTexture1D_7k1ri")

[sub_resource type="GradientTexture1D" id="GradientTexture1D_kin72"]
gradient = SubResource("Gradient_ppx3s")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_ck6nq"]
particle_flag_disable_z = true
angle_min = -720.0
angle_max = 720.0
direction = Vector3(0, 1, 0)
spread = 34.9
initial_velocity_min = 121.21
initial_velocity_max = 313.13
gravity = Vector3(0, 0, 0)
scale_min = 0.2
scale_max = 0.5
color = Color(26.627, 1, 1, 1)
color_ramp = SubResource("GradientTexture1D_kin72")

[sub_resource type="Gradient" id="Gradient_bovj2"]
colors = PackedColorArray(1, 1, 1, 1, 1, 1, 1, 0)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_hm2rv"]
gradient = SubResource("Gradient_bovj2")

[sub_resource type="Curve" id="Curve_xhog4"]
_data = [Vector2(0.0567686, 0.956044), 0.0, 0.0, 0, 0, Vector2(0.803493, 0.626374), 0.0, 0.0, 0, 0, Vector2(0.973799, 0.010989), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="CurveTexture" id="CurveTexture_guas5"]
curve = SubResource("Curve_xhog4")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_118f6"]
lifetime_randomness = 0.16
particle_flag_disable_z = true
angle_min = -720.0
angle_max = 720.0
direction = Vector3(0, 1, 0)
spread = 24.68
initial_velocity_min = 80.81
initial_velocity_max = 249.75
gravity = Vector3(0, 0, 0)
scale_min = 0.2
scale_max = 0.4
scale_curve = SubResource("CurveTexture_guas5")
color_ramp = SubResource("GradientTexture1D_hm2rv")

[sub_resource type="GradientTexture1D" id="GradientTexture1D_7oc1g"]
gradient = SubResource("Gradient_bovj2")

[sub_resource type="CurveTexture" id="CurveTexture_6wfvi"]
curve = SubResource("Curve_xhog4")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_nqi3c"]
lifetime_randomness = 0.16
particle_flag_disable_z = true
angle_min = -720.0
angle_max = 720.0
direction = Vector3(0, 1, 0)
spread = 24.68
initial_velocity_min = 80.81
initial_velocity_max = 249.75
gravity = Vector3(0, 0, 0)
scale_min = 0.2
scale_max = 0.4
scale_curve = SubResource("CurveTexture_6wfvi")
color_ramp = SubResource("GradientTexture1D_7oc1g")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_3wxuc"]
particle_flag_disable_z = true
angle_min = -720.0
angle_max = 720.0
direction = Vector3(0, 1, 0)
spread = 34.9
initial_velocity_min = 121.21
initial_velocity_max = 313.13
gravity = Vector3(0, 0, 0)
scale_min = 0.2
scale_max = 0.5
color = Color(26.627, 1, 1, 1)
color_ramp = SubResource("GradientTexture1D_7k1ri")

[sub_resource type="CircleShape2D" id="CircleShape2D_mphox"]
radius = 81.0987

[sub_resource type="ShaderMaterial" id="ShaderMaterial_37msr"]
shader = ExtResource("12_s3ktn")
shader_parameter/beams = 1
shader_parameter/energy = 10.59
shader_parameter/roughness = 3
shader_parameter/frequency = 10
shader_parameter/speed = -1.125
shader_parameter/thickness = 0.064
shader_parameter/outline_thickness = 0.038
shader_parameter/beam_difference = 1.0
shader_parameter/glow = 3.0
shader_parameter/outline_glow = 0.0
shader_parameter/color = Vector4(0.91, 1, 1, 1)
shader_parameter/outline_color = Vector4(0.5, 1, 0.96, 1)
shader_parameter/progress = 0.0
shader_parameter/y_offset = -0.012
shader_parameter/fixed_edge_size = 0.268
shader_parameter/noise_scale = Vector2(1, 1)

[node name="Node2D" type="Node2D"]
script = ExtResource("1_5mnrl")

[node name="SpaceShip" type="SubViewport" parent="."]
transparent_bg = true
use_hdr_2d = true
render_target_update_mode = 4

[node name="origin" type="Node3D" parent="SpaceShip"]

[node name="Camera3D" type="Camera3D" parent="SpaceShip/origin"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -0.155, 4.07053, 0)
projection = 1
size = 4.426

[node name="Spaceship" type="MeshInstance3D" parent="SpaceShip/origin"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0436423, -0.190875, 0.00923586)
mesh = ExtResource("1_vyo23")
skeleton = NodePath("../../..")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="SpaceShip/origin"]
transform = Transform3D(-0.833201, 0.318016, -0.452373, 0.222928, 0.941832, 0.251505, 0.506042, 0.108708, -0.855631, -1.95037, 2.34675, -2.36527)
light_energy = 3.614

[node name="MeshInstance3D" type="MeshInstance3D" parent="SpaceShip/origin"]
transform = Transform3D(3.485, 0, 0, 0, 3.485, 0, 0, 0, 3.485, -0.115655, 4.86374e-05, 0.044449)
mesh = SubResource("SphereMesh_dg0q8")

[node name="Sprite2D" type="Sprite2D" parent="."]
visible = false
modulate = Color(1, 1, 49.73, 1)
material = SubResource("ShaderMaterial_0nh8f")
texture = SubResource("ViewportTexture_wk2jn")

[node name="MultiViewPort" type="Sprite2D" parent="."]
position = Vector2(-12, -56)
texture = SubResource("ViewportTexture_whww0")
script = ExtResource("3_65key")
shader_array = Array[ShaderMaterial]([SubResource("ShaderMaterial_qnaxf"), SubResource("ShaderMaterial_8vbj5")])

[node name="PArticles" type="Node2D" parent="MultiViewPort"]
position = Vector2(-56, 141)
script = ExtResource("8_kxeok")

[node name="shiny" type="GPUParticles2D" parent="MultiViewPort/PArticles"]
process_mode = 3
z_index = 3
position = Vector2(-22, 6)
amount = 40
process_material = SubResource("ParticleProcessMaterial_tty4c")
texture = ExtResource("8_cf1mf")
lifetime = 2.0
speed_scale = 0.7
randomness = 1.0
fixed_fps = 0
draw_order = 0

[node name="shiny2" type="GPUParticles2D" parent="MultiViewPort/PArticles"]
process_mode = 3
z_index = 3
position = Vector2(136, 2)
amount = 40
process_material = SubResource("ParticleProcessMaterial_ck6nq")
texture = ExtResource("8_cf1mf")
randomness = 1.0
fixed_fps = 0
draw_order = 0

[node name="smoke2" type="GPUParticles2D" parent="MultiViewPort/PArticles"]
process_mode = 3
z_index = 2
position = Vector2(205, 9)
amount = 22
process_material = SubResource("ParticleProcessMaterial_118f6")
texture = ExtResource("9_mw1gw")
lifetime = 1.5
speed_scale = 0.5
randomness = 1.0
fixed_fps = 0
draw_order = 0

[node name="smoke3" type="GPUParticles2D" parent="MultiViewPort/PArticles"]
process_mode = 3
z_index = 2
position = Vector2(-11, 13)
amount = 22
process_material = SubResource("ParticleProcessMaterial_nqi3c")
texture = ExtResource("9_mw1gw")
lifetime = 1.5
randomness = 1.0
fixed_fps = 0
draw_order = 0

[node name="particles_boost" type="Node2D" parent="MultiViewPort"]
position = Vector2(-76, 190)
script = ExtResource("8_kxeok")

[node name="shiny" type="GPUParticles2D" parent="MultiViewPort/particles_boost"]
process_mode = 3
z_index = 3
position = Vector2(-22, 6)
emitting = false
amount = 40
process_material = SubResource("ParticleProcessMaterial_3wxuc")
texture = ExtResource("8_cf1mf")
lifetime = 2.0
one_shot = true
speed_scale = 0.7
explosiveness = 1.0
randomness = 1.0
fixed_fps = 0
draw_order = 0

[node name="shiny2" type="GPUParticles2D" parent="MultiViewPort/particles_boost"]
process_mode = 3
z_index = 3
position = Vector2(184, 16)
emitting = false
amount = 40
process_material = SubResource("ParticleProcessMaterial_ck6nq")
texture = ExtResource("8_cf1mf")
one_shot = true
explosiveness = 1.0
randomness = 1.0
fixed_fps = 0
draw_order = 0

[node name="smoke2" type="GPUParticles2D" parent="MultiViewPort/particles_boost"]
process_mode = 3
z_index = 2
position = Vector2(205, 9)
emitting = false
amount = 22
process_material = SubResource("ParticleProcessMaterial_118f6")
texture = ExtResource("9_mw1gw")
lifetime = 1.5
one_shot = true
speed_scale = 0.5
explosiveness = 1.0
randomness = 1.0
fixed_fps = 0
draw_order = 0

[node name="smoke3" type="GPUParticles2D" parent="MultiViewPort/particles_boost"]
process_mode = 3
z_index = 2
position = Vector2(-11, 13)
emitting = false
amount = 22
process_material = SubResource("ParticleProcessMaterial_nqi3c")
texture = ExtResource("9_mw1gw")
lifetime = 1.5
one_shot = true
explosiveness = 1.0
randomness = 1.0
fixed_fps = 0
draw_order = 0

[node name="hitbox" type="Area2D" parent="."]
monitoring = false
monitorable = false

[node name="CollisionShape2D" type="CollisionShape2D" parent="hitbox"]
position = Vector2(-9, -46)
shape = SubResource("CircleShape2D_mphox")

[node name="projectile_plasma" parent="." instance=ExtResource("11_62g3x")]
visible = false
modulate = Color(2, 2, 2, 1)
position = Vector2(1, -237)
scale = Vector2(0.51, 0.51)

[node name="laser" type="Sprite2D" parent="."]
material = SubResource("ShaderMaterial_37msr")
position = Vector2(9, -1347)
rotation = 1.57079
scale = Vector2(16.7452, 6.80244)
texture = ExtResource("13_umu2r")

[node name="RayCast2D" type="RayCast2D" parent="laser"]
position = Vector2(70.4679, -0.734646)
rotation = -0.785397
target_position = Vector2(-76.964, -74.8857)
collision_mask = 2
collide_with_areas = true
collide_with_bodies = false
